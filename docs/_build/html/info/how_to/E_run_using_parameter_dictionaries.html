
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Running using param. dict. &#8212; OceanTracker Beta 0.5 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorials" href="../how_to.html" />
    <link rel="prev" title="Running with helper class" href="B_runningOT_and_parameters.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/ocean_tracker.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=oceantracker&repo=oceantracker&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_ocean_tracker.html">Running OceanTracker</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../how_to.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="A_minimal_example.html">Minimal example</a></li>
<li class="toctree-l2"><a class="reference internal" href="B_running_with_helper_class.html">Running with helper class</a></li>
<li class="toctree-l2"><a class="reference internal" href="C_release_groups.html">Release Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="C_release_groups.html#plot-tracks">plot tracks</a></li>
<li class="toctree-l2"><a class="reference internal" href="D_output_files.html">Output files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Running using param. dict.</a></li>
<li class="toctree-l2"><a class="reference internal" href="F_plotting_tracks.html">plotting tracks</a></li>
<li class="toctree-l2"><a class="reference internal" href="G_onthefly_statistics.html">On-the-fly statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="G_onthefly_statistics.html#add-polygon-stats-example-with-plotting">add polygon stats example with plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="P_running_cases_in_parallel.html">Run in parallel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../trouble_shooting.html">Trouble shooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parameter_ref/parameter_ref_toc.html">Parameter details</a></li>
<li class="toctree-l1"><a class="reference internal" href="D_output_files.html">Output files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../change_log.html">Change log</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../running_ocean_tracker.html">Running OceanTracker</a><ul>
      <li>Previous: <a href="B_runningOT_and_parameters.html" title="previous chapter">Running with helper class</a></li>
      <li>Next: <a href="../how_to.html" title="next chapter">Tutorials</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="running-using-param-dict">
<h1>Running using param. dict.<a class="headerlink" href="#running-using-param-dict" title="Permalink to this headline">¶</a></h1>
<p>[This note-book is in oceantracker/tutorials_how_to/]</p>
<p>The earlier notebook showed how to set parameters and run using the
helper class. Here we exploit the flexibility to run Oceantracker
directly using a parameter dictionary built in code or read from a file.
The dictionary can be built using {‘pulse_size’:10} or dict(pulse=10)
approaches.</p>
<section id="build-param-dict-with-code">
<h2>Build param. dict. with code<a class="headerlink" href="#build-param-dict-with-code" title="Permalink to this headline">¶</a></h2>
<p>The below extends the minimal_example, shows two ways to build a
parameter dictionary and different ways to run OceanTracker, from code
or command line.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># build a more complex dictionary of parameters using code</span>
<span class="n">params</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;output_file_base&#39;</span> <span class="p">:</span><span class="s1">&#39;param_test1&#39;</span><span class="p">,</span>      <span class="c1"># name used as base for output files</span>
    <span class="s1">&#39;root_output_dir&#39;</span><span class="p">:</span><span class="s1">&#39;output&#39;</span><span class="p">,</span>             <span class="c1">#  output is put in dir   &#39;root_output_dir&#39;/&#39;output_file_base&#39;</span>
    <span class="s1">&#39;time_step&#39;</span> <span class="p">:</span> <span class="mi">120</span><span class="p">,</span>  <span class="c1">#  2 min time step as seconds</span>
    <span class="s1">&#39;reader&#39;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">input_dir</span><span class="o">=</span><span class="s1">&#39;../demos/demo_hindcast/schsim3D&#39;</span><span class="p">,</span>  <span class="c1"># folder to search for hindcast files, sub-dirs will, by default, also be searched</span>
                  <span class="n">file_mask</span><span class="o">=</span> <span class="s1">&#39;demo_hindcast_schisim3D*.nc&#39;</span><span class="p">,</span>    <span class="c1"># the file mask of the hindcast files</span>
                    <span class="p">),</span>
    <span class="c1"># add a list of release groups, the release locations from two points,</span>
    <span class="c1">#       particle_release_groups are a list of one or more release groups</span>
    <span class="c1">#               (ie locations where particles are released at the same times and locations)</span>
    <span class="s1">&#39;release_groups&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="c1"># class_name not uses as PointRelease is the default</span>
                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;my_release_point&#39;</span><span class="p">,</span> <span class="c1"># optional name to refer to in code</span>
                <span class="s1">&#39;points&#39;</span><span class="p">:[[</span><span class="mi">1595000</span><span class="p">,</span> <span class="mi">5482600</span><span class="p">],</span>
                          <span class="p">[</span><span class="mi">1599000</span><span class="p">,</span> <span class="mi">5486200</span><span class="p">]],</span>      <span class="c1"># must be an N by 2 or 3 or list, convertible to a numpy array</span>
                <span class="s1">&#39;release_interval&#39;</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>           <span class="c1"># seconds between releasing particles</span>
                <span class="s1">&#39;pulse_size&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>                   <span class="c1"># number of particles released each release_interval</span>
                <span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;PolygonRelease&#39;</span><span class="p">,</span> <span class="c1"># use a polygon release</span>
                                    <span class="s1">&#39;points&#39;</span><span class="p">:[</span>   <span class="p">[</span><span class="mf">1597682.1237</span><span class="p">,</span> <span class="mf">5489972.7479</span><span class="p">],</span>
                                                    <span class="p">[</span><span class="mf">1598604.1667</span><span class="p">,</span> <span class="mf">5490275.5488</span><span class="p">],</span>
                                                    <span class="p">[</span><span class="mf">1598886.4247</span><span class="p">,</span> <span class="mf">5489464.0424</span><span class="p">],</span>
                                                    <span class="p">[</span><span class="mf">1597917.3387</span><span class="p">,</span> <span class="mi">5489000</span><span class="p">],</span>
                                                    <span class="p">[</span><span class="mi">1597300</span><span class="p">,</span> <span class="mi">5489000</span><span class="p">],</span> <span class="p">[</span><span class="mf">1597682.1237</span><span class="p">,</span> <span class="mf">5489972.7479</span><span class="p">]],</span>
                                    <span class="s1">&#39;release_interval&#39;</span><span class="p">:</span> <span class="mi">7200</span><span class="p">,</span>           <span class="c1"># seconds between releasing particles</span>
                                    <span class="s1">&#39;pulse_size&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>                   <span class="c1"># number of particles released each release_interval</span>
                                    <span class="p">},</span>
                <span class="p">],</span>
    <span class="s1">&#39;resuspension&#39;</span> <span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">critical_friction_velocity</span><span class="o">=</span> <span class="mf">.005</span><span class="p">),</span> <span class="c1"># only re-suspend particles if friction vel. exceeds this value</span>

    <span class="c1"># list of velocity_modifiers are a set of velocities added to  water velocity give in  hydrodynamic model&#39;s</span>
    <span class="s1">&#39;velocity_modifiers&#39;</span> <span class="p">:</span> <span class="p">[</span>   <span class="c1"># here a fall velocity with given mean and variance is added to the computation</span>
                <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;fall_velocity&#39;</span><span class="p">,</span> <span class="c1">#optional name</span>
                 <span class="s1">&#39;class_name&#39;</span> <span class="p">:</span> <span class="s1">&#39;TerminalVelocity&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.001</span><span class="p">,</span>
                 <span class="s1">&#39;variance&#39;</span><span class="p">:</span> <span class="mf">0.0002</span><span class="p">}</span> <span class="c1"># fall velocity has this variance around value</span>
                        <span class="p">],</span>
        <span class="p">}</span>

<span class="c1"># write params to build on for later examples</span>
<span class="kn">from</span> <span class="nn">oceantracker.util</span> <span class="kn">import</span> <span class="n">json_util</span><span class="p">,</span> <span class="n">yaml_util</span>
<span class="n">json_util</span><span class="o">.</span><span class="n">write_JSON</span><span class="p">(</span><span class="s1">&#39;./example_param_files/param_test1.json&#39;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">yaml_util</span><span class="o">.</span><span class="n">write_YAML</span><span class="p">(</span><span class="s1">&#39;./example_param_files/param_test1.yaml&#39;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<p>### Show parameters in yaml format</p>
<p>yaml format has no brackets/braces and relies on tab indenting to nest
items</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the params in yaml format</span>
<span class="kn">import</span> <span class="nn">yaml</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yaml_util</span><span class="o">.</span><span class="n">read_YAML</span><span class="p">(</span><span class="s1">&#39;./example_param_files/param_test1.yaml&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_file_base</span><span class="p">:</span> <span class="n">param_test1</span>
<span class="n">reader</span><span class="p">:</span>
  <span class="n">file_mask</span><span class="p">:</span> <span class="n">demo_hindcast_schisim3D</span><span class="o">*.</span><span class="n">nc</span>
  <span class="n">input_dir</span><span class="p">:</span> <span class="o">../</span><span class="n">demos</span><span class="o">/</span><span class="n">demo_hindcast</span><span class="o">/</span><span class="n">schsim3D</span>
<span class="n">release_groups</span><span class="p">:</span>
<span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">my_release_point</span>
  <span class="n">points</span><span class="p">:</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mi">1595000</span>
    <span class="o">-</span> <span class="mi">5482600</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mi">1599000</span>
    <span class="o">-</span> <span class="mi">5486200</span>
  <span class="n">pulse_size</span><span class="p">:</span> <span class="mi">10</span>
  <span class="n">release_interval</span><span class="p">:</span> <span class="mi">3600</span>
<span class="o">-</span> <span class="n">class_name</span><span class="p">:</span> <span class="n">PolygonRelease</span>
  <span class="n">points</span><span class="p">:</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mf">1597682.1237</span>
    <span class="o">-</span> <span class="mf">5489972.7479</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mf">1598604.1667</span>
    <span class="o">-</span> <span class="mf">5490275.5488</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mf">1598886.4247</span>
    <span class="o">-</span> <span class="mf">5489464.0424</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mf">1597917.3387</span>
    <span class="o">-</span> <span class="mi">5489000</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mi">1597300</span>
    <span class="o">-</span> <span class="mi">5489000</span>
  <span class="o">-</span> <span class="o">-</span> <span class="mf">1597682.1237</span>
    <span class="o">-</span> <span class="mf">5489972.7479</span>
  <span class="n">pulse_size</span><span class="p">:</span> <span class="mi">20</span>
  <span class="n">release_interval</span><span class="p">:</span> <span class="mi">7200</span>
<span class="n">resuspension</span><span class="p">:</span>
  <span class="n">critical_friction_velocity</span><span class="p">:</span> <span class="mf">0.005</span>
<span class="n">root_output_dir</span><span class="p">:</span> <span class="n">output</span>
<span class="n">time_step</span><span class="p">:</span> <span class="mi">120</span>
<span class="n">velocity_modifiers</span><span class="p">:</span>
<span class="o">-</span> <span class="n">class_name</span><span class="p">:</span> <span class="n">TerminalVelocity</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">fall_velocity</span>
  <span class="n">value</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.001</span>
  <span class="n">variance</span><span class="p">:</span> <span class="mf">0.0002</span>
</pre></div>
</div>
</section>
<section id="run-oceantracker-from-parameters">
<h2>Run OceanTracker from parameters<a class="headerlink" href="#run-oceantracker-from-parameters" title="Permalink to this headline">¶</a></h2>
<p>There are several ways to run OceanTracker</p>
<ol class="arabic simple">
<li><p>By coding</p>
<ul class="simple">
<li><p>build parameters in code and run</p></li>
<li><p>or coding to read parameter file and then run</p></li>
</ul>
</li>
<li><p>Without coding</p>
<ul class="simple">
<li><p>run from command line with parameter file which is built by editing
a json/yaml text file</p></li>
</ul>
</li>
</ol>
<p>Note:</p>
<p>There are many ways to run the code, eg. with IDE like Pycharm, Visual
Studio Code. It can also, as here, be run in iPython notebooks. However
the way notebooks are implemented can sometimes result in issues:</p>
<ul class="simple">
<li><p>errors when running Oceantracker a second time or other unexpected
behavior, due to shared memory space, fix by reloading the kernel</p></li>
<li><p>if using note books on Windows, it is not possible to run Oceantracker
cases in parallel, without a work around given in a later “how to”.</p></li>
</ul>
</section>
<section id="run-with-code-built-params">
<h2>Run with code built params.<a class="headerlink" href="#run-with-code-built-params" title="Permalink to this headline">¶</a></h2>
<p>Is line below!</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># run oceantracker using param dict built in cells above</span>
<span class="kn">from</span> <span class="nn">oceantracker</span> <span class="kn">import</span> <span class="n">main</span>

<span class="n">case_info_file_name</span> <span class="o">=</span> <span class="n">main</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<span class="c1"># case_info file is the name of a json file useful in plotting results</span>
</pre></div>
</div>
<pre class="literal-block">Main      Python version: 3.10.14 | packaged by conda-forge | (main, Mar 20 2024, 12:40:08) [MSC v.1938 64 bit (AMD64)]
Main ----------------------------------------------------------------------
Main OceanTracker starting main:
Main     Starting package set up
Main         -  Built OceanTracker package tree,      1.434 sec
Main         -  Built OceanTracker sort name map,     0.000 sec
Main     -  Done package set up to setup ClassImporter,       1.434 sec
Main Output is in dir &quot;c:Workot_install_testoceantrackertutorials_how_tooutputparam_test1&quot;
Main       hint: see for copies of screen output and user supplied parameters, plus all other output
Main     &gt;&gt;&gt; Note: to help with debugging, parameters as given by user  are in &quot;user_given_params.json&quot;
Main ----------------------------------------------------------------------
Main  OceanTracker version 0.50.0009-2024-03-30 - preliminary setup
Main   - Found input dir &quot;../demos/demo_hindcast/schsim3D&quot;
Main   - found hydro-model files of type  &quot;SCHISM&quot;
Main Cataloging hindcast with 1 files in dir ../demos/demo_hindcast/schsim3D
Main     -  Cataloged hydro-model files/variables in time order,      0.023 sec
Main     -  sorted hyrdo-model files in time order,   0.116 sec
prelim:     Starting package set up
prelim:         -  Built OceanTracker package tree,   0.024 sec
prelim:         -  Built OceanTracker sort name map,          0.000 sec
prelim:     -  Done package set up to setup ClassImporter,    0.024 sec
C000 ----------------------------------------------------------------------
C000 Starting case number   0,  param_test1 at 2024-12-12T10:46:45.813781
C000 ----------------------------------------------------------------------
C000     -  Scanned OceanTracker to build short name map to the full class_names,     0.000 sec
C000 &gt;&gt;&gt; Note: Hydro-model is &quot;3D&quot;, in geographic coords = &quot;False&quot;  type &quot;SCHISMreaderNCDF&quot;
C000       hint: Files found in dir and sub-dirs of &quot;../demos/demo_hindcast/schsim3D&quot;
C000       Hindcast start: 2017-01-01T00:30:00.000000000  end:  2017-01-01T23:30:00.000000000, time steps  24
C000         grid bounding box = [1589789.000 5479437.000] to [1603398.000 5501640.000]
C000   - Starting grid setup
C000     -  built node to triangles map,      1.991 sec
C000     -  built triangle adjacency matrix,          0.439 sec
C000     -  found boundary triangles,         0.000 sec
C000     -  built domain and island outlines,         3.004 sec
C000     -  calculated triangle areas,        0.000 sec
C000   - Finished grid setup
C000     -  built barycentric-transform matrix,       0.602 sec
C000     -  Setup field group manager,        7.624 sec
C000     -  Added release groups and found run start and end times,   1.471 sec
C000 &gt;&gt;&gt; Note: When using a terminal velocity, ensure time step is small enough that vertical displacement is a small fraction of the water depth, ie vertical Courant number &lt; 1
C000     -  Done initial setup of all classes,        1.345 sec
C000 ----------------------------------------------------------------------
C000   - Starting param_test1,  duration: 0 days 23 hrs 0 min 0 sec
C000   -  Reading 24 time steps,  for hindcast time steps 00:23, from ..demosdemo_hindcastschsim3D  into ring buffer offsets 000:023
C000       -  read  24 time steps in  6.6 sec
C000 ----------------------------------------------------------------------
C000   - Starting time stepping: 2017-01-01T00:30:00 to 2017-01-01T23:30:00 , duration  0 days 23 hrs 0 min 0 sec
C000     -  Opened tracks output to : param_test1_tracks_compact.nc,          0.004 sec
C000 00% step 0000:H0000b00-01 Day +00 00:00 2017-01-01 00:30:00: Rel.:62    : Active:62     M:62     S:0       B:0      D:0      O:0      N:0      Buffer:62       0% step time = 10679.6 ms
C000 04% step 0030:H0001b01-02 Day +00 01:00 2017-01-01 01:30:00: Rel.:82    : Active:82     M:80     S:0       B:2      D:0      O:0      N:0      Buffer:82       0% step time =  4.4 ms
C000 09% step 0060:H0002b02-03 Day +00 02:00 2017-01-01 02:30:00: Rel.:141   : Active:141    M:137    S:0       B:4      D:0      O:0      N:0      Buffer:141      0% step time =  5.0 ms
C000 13% step 0090:H0003b03-04 Day +00 03:00 2017-01-01 03:30:00: Rel.:161   : Active:161    M:147    S:10      B:4      D:0      O:0      N:0      Buffer:161      0% step time =  4.3 ms
C000 17% step 0120:H0004b04-05 Day +00 04:00 2017-01-01 04:30:00: Rel.:210   : Active:210    M:193    S:10      B:7      D:0      O:0      N:0      Buffer:210      0% step time =  5.7 ms
C000 22% step 0150:H0005b05-06 Day +00 05:00 2017-01-01 05:30:00: Rel.:230   : Active:230    M:202    S:12      B:16     D:0      O:0      N:0      Buffer:230      0% step time =  4.5 ms
C000 26% step 0180:H0006b06-07 Day +00 06:00 2017-01-01 06:30:00: Rel.:271   : Active:271    M:241    S:12      B:18     D:0      O:0      N:0      Buffer:271      0% step time =  4.4 ms
C000 30% step 0210:H0007b07-08 Day +00 07:00 2017-01-01 07:30:00: Rel.:291   : Active:291    M:262    S:10      B:19     D:0      O:0      N:0      Buffer:291      0% step time =  5.2 ms
C000 35% step 0240:H0008b08-09 Day +00 08:00 2017-01-01 08:30:00: Rel.:348   : Active:348    M:318    S:10      B:20     D:0      O:0      N:0      Buffer:348      0% step time =  5.1 ms
C000 39% step 0270:H0009b09-10 Day +00 09:00 2017-01-01 09:30:00: Rel.:368   : Active:368    M:346    S:0       B:22     D:0      O:0      N:0      Buffer:368      0% step time =  3.9 ms
C000 43% step 0300:H0010b10-11 Day +00 10:00 2017-01-01 10:30:00: Rel.:409   : Active:409    M:387    S:0       B:22     D:0      O:0      N:0      Buffer:409      0% step time =  5.2 ms
C000 48% step 0330:H0011b11-12 Day +00 11:00 2017-01-01 11:30:00: Rel.:429   : Active:429    M:413    S:0       B:16     D:0      O:0      N:0      Buffer:429      0% step time =  3.9 ms
C000 52% step 0360:H0012b12-13 Day +00 12:00 2017-01-01 12:30:00: Rel.:469   : Active:469    M:454    S:0       B:15     D:0      O:0      N:0      Buffer:469      0% step time =  5.0 ms
C000 57% step 0390:H0012b12-13 Day +00 13:00 2017-01-01 13:30:00: Rel.:489   : Active:489    M:469    S:12      B:8      D:0      O:0      N:0      Buffer:489      0% step time =  4.1 ms
C000 61% step 0420:H0014b14-15 Day +00 14:00 2017-01-01 14:30:00: Rel.:531   : Active:531    M:507    S:13      B:11     D:0      O:0      N:0      Buffer:531      0% step time =  6.5 ms
C000 65% step 0450:H0015b15-16 Day +00 15:00 2017-01-01 15:30:00: Rel.:551   : Active:551    M:502    S:47      B:2      D:0      O:0      N:0      Buffer:551      0% step time =  4.5 ms
C000 70% step 0480:H0016b16-17 Day +00 16:00 2017-01-01 16:30:00: Rel.:592   : Active:592    M:532    S:55      B:5      D:0      O:0      N:0      Buffer:592      0% step time =  4.6 ms
C000 74% step 0510:H0017b17-18 Day +00 17:00 2017-01-01 17:30:00: Rel.:612   : Active:612    M:548    S:64      B:0      D:0      O:0      N:0      Buffer:612      0% step time =  4.9 ms
C000 78% step 0540:H0018b18-19 Day +00 18:00 2017-01-01 18:30:00: Rel.:654   : Active:654    M:590    S:64      B:0      D:0      O:0      N:0      Buffer:654      0% step time =  4.7 ms
C000 83% step 0570:H0019b19-20 Day +00 19:00 2017-01-01 19:30:00: Rel.:674   : Active:674    M:611    S:63      B:0      D:0      O:0      N:0      Buffer:674      0% step time =  4.3 ms
C000 87% step 0600:H0020b20-21 Day +00 20:00 2017-01-01 20:30:00: Rel.:717   : Active:717    M:660    S:55      B:2      D:0      O:0      N:0      Buffer:717      0% step time =  5.6 ms
C000 91% step 0630:H0021b21-22 Day +00 21:00 2017-01-01 21:30:00: Rel.:737   : Active:737    M:717    S:13      B:7      D:0      O:0      N:0      Buffer:737      0% step time =  5.1 ms
C000 96% step 0660:H0022b22-23 Day +00 22:00 2017-01-01 22:30:00: Rel.:803   : Active:803    M:777    S:12      B:14     D:0      O:0      N:0      Buffer:803      0% step time =  5.0 ms
C000 100% step 0690:H0023b23-00 Day +00 23:00 2017-01-01 23:30:00: Rel.:803   : Active:803    M:788    S:0       B:15     D:0      O:0      N:0      Buffer:803      0% step time =  5.9 ms
C000 &gt;&gt;&gt; Note: Hydro-model is &quot;3D&quot;, in geographic coords = &quot;False&quot;  type &quot;SCHISMreaderNCDF&quot;
C000       hint: Files found in dir and sub-dirs of &quot;../demos/demo_hindcast/schsim3D&quot;
C000 &gt;&gt;&gt; Note: When using a terminal velocity, ensure time step is small enough that vertical displacement is a small fraction of the water depth, ie vertical Courant number &lt; 1
C000 ----------------------------------------------------------------------
C000   - Finished case number   0,  param_test1 started: 2024-12-12 10:46:45.788354, ended: 2024-12-12 10:47:21.404230
C000       Computational time =0:00:35.615876
C000 --- End case 0 -------------------------------------------------------
End --- Summary ----------------------------------------------------------
End     &gt;&gt;&gt; Note: Run summary with case file names in &quot;<a href="#system-message-1"><span class="problematic" id="problematic-1">*</span></a>_runInfo.json&quot;
End     &gt;&gt;&gt; Note: to help with debugging, parameters as given by user  are in &quot;user_given_params.json&quot;
End     &gt;&gt;&gt; Note: Run summary with case file names in &quot;<a href="#system-message-2"><span class="problematic" id="problematic-2">*</span></a>_runInfo.json&quot;
End ----------------------------------------------------------------------
End ----------------------------------------------------------------------
End OceanTracker summary:  elapsed time =0:00:37.188855
End       Cases -   0 errors,   0 warnings,   2 notes, check above
End       Main  -   0 errors,   0 warnings,   2 notes, check above
End   Output in c:Workot_install_testoceantrackertutorials_how_tooutputparam_test1
End ----------------------------------------------------------------------</pre>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot animation of results</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">plot_oceantracker.plot_tracks</span> <span class="kn">import</span> <span class="n">animate_particles</span>
<span class="kn">from</span> <span class="nn">read_oceantracker.python</span> <span class="kn">import</span>  <span class="n">load_output_files</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span> <span class="c1"># show animation in note book</span>

<span class="c1"># read particle track data into a dictionary using case_info_file_name</span>
<span class="n">tracks</span> <span class="o">=</span> <span class="n">load_output_files</span><span class="o">.</span><span class="n">load_track_data</span><span class="p">(</span><span class="n">case_info_file_name</span><span class="p">)</span>

<span class="n">ax</span><span class="o">=</span> <span class="p">[</span><span class="mi">1591000</span><span class="p">,</span> <span class="mi">1601500</span><span class="p">,</span> <span class="mi">5479500</span><span class="p">,</span> <span class="mi">5491000</span><span class="p">]</span>  <span class="c1"># area to plot</span>
<span class="c1"># animate particles</span>
<span class="n">anim</span> <span class="o">=</span> <span class="n">animate_particles</span><span class="p">(</span><span class="n">tracks</span><span class="p">,</span> <span class="n">axis_lims</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Fall vel.,  test&#39;</span> <span class="p">,</span>
                         <span class="n">show_dry_cells</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># use ipython to show video, rather than matplotlib plt.show()</span>

<span class="n">HTML</span><span class="p">(</span><span class="n">anim</span><span class="o">.</span><span class="n">to_html5_video</span><span class="p">())</span><span class="c1"># this is slow to build!</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">RuntimeError</span>                              <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">line</span> <span class="mi">15</span>
     <span class="mi">11</span> <span class="c1"># animate particles</span>
     <span class="mi">12</span> <span class="n">anim</span> <span class="o">=</span> <span class="n">animate_particles</span><span class="p">(</span><span class="n">tracks</span><span class="p">,</span> <span class="n">axis_lims</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Fall vel.,  test&#39;</span> <span class="p">,</span>
     <span class="mi">13</span>                          <span class="n">show_dry_cells</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># use ipython to show video, rather than matplotlib plt.show()</span>
<span class="o">---&gt;</span> <span class="mi">15</span> <span class="n">HTML</span><span class="p">(</span><span class="n">anim</span><span class="o">.</span><span class="n">to_html5_video</span><span class="p">())</span>


<span class="n">File</span> <span class="n">c</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">rossv</span>\<span class="o">.</span><span class="n">conda</span>\<span class="n">envs</span>\<span class="n">ot310</span>\<span class="n">lib</span>\<span class="n">site</span><span class="o">-</span><span class="n">packages</span>\<span class="n">matplotlib</span>\<span class="n">animation</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1285</span><span class="p">,</span> <span class="ow">in</span> <span class="n">Animation</span><span class="o">.</span><span class="n">to_html5_video</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">embed_limit</span><span class="p">)</span>
   <span class="mi">1282</span> <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">,</span> <span class="s2">&quot;temp.m4v&quot;</span><span class="p">)</span>
   <span class="mi">1283</span> <span class="c1"># We create a writer manually so that we can get the</span>
   <span class="mi">1284</span> <span class="c1"># appropriate size for the tag</span>
<span class="o">-&gt;</span> <span class="mi">1285</span> <span class="n">Writer</span> <span class="o">=</span> <span class="n">writers</span><span class="p">[</span><span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;animation.writer&#39;</span><span class="p">]]</span>
   <span class="mi">1286</span> <span class="n">writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">(</span><span class="n">codec</span><span class="o">=</span><span class="s1">&#39;h264&#39;</span><span class="p">,</span>
   <span class="mi">1287</span>                 <span class="n">bitrate</span><span class="o">=</span><span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;animation.bitrate&#39;</span><span class="p">],</span>
   <span class="mi">1288</span>                 <span class="n">fps</span><span class="o">=</span><span class="mf">1000.</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_interval</span><span class="p">)</span>
   <span class="mi">1289</span> <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">writer</span><span class="o">=</span><span class="n">writer</span><span class="p">)</span>


<span class="n">File</span> <span class="n">c</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">rossv</span>\<span class="o">.</span><span class="n">conda</span>\<span class="n">envs</span>\<span class="n">ot310</span>\<span class="n">lib</span>\<span class="n">site</span><span class="o">-</span><span class="n">packages</span>\<span class="n">matplotlib</span>\<span class="n">animation</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span> <span class="ow">in</span> <span class="n">MovieWriterRegistry</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="mi">146</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="mi">147</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_registered</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
<span class="o">--&gt;</span> <span class="mi">148</span> <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requested MovieWriter (</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">) not available&quot;</span><span class="p">)</span>


<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">Requested</span> <span class="n">MovieWriter</span> <span class="p">(</span><span class="n">ffmpeg</span><span class="p">)</span> <span class="ow">not</span> <span class="n">available</span>
</pre></div>
</div>
<img alt="info/how_to/E_run_using_parameter_dictionaries_files%5CE_run_using_parameter_dictionaries_6_1.png" src="info/how_to/E_run_using_parameter_dictionaries_files%5CE_run_using_parameter_dictionaries_6_1.png" />
</section>
<section id="run-by-reading-param-file">
<h2>Run by reading param. file<a class="headerlink" href="#run-by-reading-param-file" title="Permalink to this headline">¶</a></h2>
</section>
<section id="run-from-command-line">
<h2>Run from command line<a class="headerlink" href="#run-from-command-line" title="Permalink to this headline">¶</a></h2>
<p>Run without coding from command lin bu using a parameter file pre-built
in a text editor.</p>
<p>From within an activated oceantracker conda environment, run command
line below.</p>
<p>On Windows, do this within an anaconda/miniconda prompt window with an
activated environment.</p>
<p>eg. run “run_oceantracker.py” script in the oceantracker/oceantracker
directory with command</p>
<p><code class="docutils literal notranslate"><span class="pre">python</span>&#160; <span class="pre">../oceantracker/run_oceantracker.py</span> <span class="pre">./example_param_files/param_test1.json</span></code></p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python  ../oceantracker/run_ot_cmd_line.py ./example_param_files/param_test1.json
</pre></div>
</div>
<pre class="literal-block">Main      Python version: 3.10.14 | packaged by conda-forge | (main, Mar 20 2024, 12:40:08) [MSC v.1938 64 bit (AMD64)]
Main ----------------------------------------------------------------------
Main OceanTracker starting main:
Main     Starting package set up
Main         -  Built OceanTracker package tree,      0.962 sec
Main         -  Built OceanTracker sort name map,     0.000 sec
Main     -  Done package set up to setup ClassImporter,       0.962 sec
Main &gt;&gt;&gt; Warning: Deleted contents of existing output dir
Main Output is in dir &quot;c:Workot_install_testoceantrackertutorials_how_tooutputparam_test1&quot;
Main       hint: see for copies of screen output and user supplied parameters, plus all other output
Main     &gt;&gt;&gt; Note: to help with debugging, parameters as given by user  are in &quot;user_given_params.json&quot;
Main ----------------------------------------------------------------------
Main  OceanTracker version 0.50.0009-2024-03-30 - preliminary setup
Main   - Found input dir &quot;../demos/demo_hindcast/schsim3D&quot;
Main   - found hydro-model files of type  &quot;SCHISM&quot;
Main Cataloging hindcast with 1 files in dir ../demos/demo_hindcast/schsim3D
Main     -  Cataloged hydro-model files/variables in time order,      0.024 sec
Main     -  sorted hyrdo-model files in time order,   0.107 sec
prelim:     Starting package set up
prelim:         -  Built OceanTracker package tree,   0.029 sec
prelim:         -  Built OceanTracker sort name map,          0.000 sec
prelim:     -  Done package set up to setup ClassImporter,    0.030 sec
C000 ----------------------------------------------------------------------
C000 Starting case number   0,  param_test1 at 2024-12-12T11:38:27.124392
C000 ----------------------------------------------------------------------
C000     -  Scanned OceanTracker to build short name map to the full class_names,     0.000 sec
C000 &gt;&gt;&gt; Note: Hydro-model is &quot;3D&quot;, in geographic coords = &quot;False&quot;  type &quot;SCHISMreaderNCDF&quot;
C000       hint: Files found in dir and sub-dirs of &quot;../demos/demo_hindcast/schsim3D&quot;
C000       Hindcast start: 2017-01-01T00:30:00.000000000  end:  2017-01-01T23:30:00.000000000, time steps  24
C000         grid bounding box = [1589789.000 5479437.000] to [1603398.000 5501640.000]
C000   - Starting grid setup
C000     -  built node to triangles map,      1.414 sec
C000     -  built triangle adjacency matrix,          0.385 sec
C000     -  found boundary triangles,         0.000 sec
C000     -  built domain and island outlines,         2.223 sec
C000     -  calculated triangle areas,        0.000 sec
C000   - Finished grid setup
C000     -  built barycentric-transform matrix,       0.606 sec
C000     -  Setup field group manager,        6.053 sec
C000     -  Added release groups and found run start and end times,   1.379 sec
C000 &gt;&gt;&gt; Note: When using a terminal velocity, ensure time step is small enough that vertical displacement is a small fraction of the water depth, ie vertical Courant number &lt; 1
C000     -  Done initial setup of all classes,        1.481 sec
C000 ----------------------------------------------------------------------
C000   - Starting param_test1,  duration: 0 days 23 hrs 0 min 0 sec
C000   -  Reading 24 time steps,  for hindcast time steps 00:23, from ..demosdemo_hindcastschsim3D  into ring buffer offsets 000:023
C000       -  read  24 time steps in  6.6 sec
C000 ----------------------------------------------------------------------
C000   - Starting time stepping: 2017-01-01T00:30:00 to 2017-01-01T23:30:00 , duration  0 days 23 hrs 0 min 0 sec
C000     -  Opened tracks output to : param_test1_tracks_compact.nc,          0.005 sec
C000 00% step 0000:H0000b00-01 Day +00 00:00 2017-01-01 00:30:00: Rel.:61    : Active:61     M:61     S:0       B:0      D:0      O:0      N:0      Buffer:61       0% step time = 10649.4 ms
C000 04% step 0030:H0001b01-02 Day +00 01:00 2017-01-01 01:30:00: Rel.:81    : Active:81     M:79     S:0       B:2      D:0      O:0      N:0      Buffer:81       0% step time = 10.6 ms
C000 09% step 0060:H0002b02-03 Day +00 02:00 2017-01-01 02:30:00: Rel.:125   : Active:125    M:119    S:0       B:6      D:0      O:0      N:0      Buffer:125      0% step time =  9.2 ms
C000 13% step 0090:H0003b03-04 Day +00 03:00 2017-01-01 03:30:00: Rel.:145   : Active:145    M:126    S:11      B:8      D:0      O:0      N:0      Buffer:145      0% step time =  5.4 ms
C000 17% step 0120:H0004b04-05 Day +00 04:00 2017-01-01 04:30:00: Rel.:187   : Active:187    M:169    S:11      B:7      D:0      O:0      N:0      Buffer:187      0% step time =  5.5 ms
C000 22% step 0150:H0005b05-06 Day +00 05:00 2017-01-01 05:30:00: Rel.:207   : Active:207    M:178    S:11      B:18     D:0      O:0      N:0      Buffer:207      0% step time =  5.2 ms
C000 26% step 0180:H0006b06-07 Day +00 06:00 2017-01-01 06:30:00: Rel.:247   : Active:247    M:218    S:11      B:18     D:0      O:0      N:0      Buffer:247      0% step time =  5.8 ms
C000 30% step 0210:H0007b07-08 Day +00 07:00 2017-01-01 07:30:00: Rel.:267   : Active:267    M:238    S:11      B:18     D:0      O:0      N:0      Buffer:267      0% step time =  5.5 ms
C000 35% step 0240:H0008b08-09 Day +00 08:00 2017-01-01 08:30:00: Rel.:328   : Active:328    M:299    S:11      B:18     D:0      O:0      N:0      Buffer:328      0% step time =  6.0 ms
C000 39% step 0270:H0009b09-10 Day +00 09:00 2017-01-01 09:30:00: Rel.:348   : Active:348    M:326    S:0       B:22     D:0      O:0      N:0      Buffer:348      0% step time =  4.0 ms
C000 43% step 0300:H0010b10-11 Day +00 10:00 2017-01-01 10:30:00: Rel.:403   : Active:403    M:378    S:0       B:25     D:0      O:0      N:0      Buffer:403      0% step time =  5.4 ms
C000 48% step 0330:H0011b11-12 Day +00 11:00 2017-01-01 11:30:00: Rel.:423   : Active:423    M:413    S:0       B:10     D:0      O:0      N:0      Buffer:423      0% step time =  4.1 ms
C000 52% step 0360:H0012b12-13 Day +00 12:00 2017-01-01 12:30:00: Rel.:479   : Active:479    M:460    S:0       B:19     D:0      O:0      N:0      Buffer:479      0% step time =  5.1 ms
C000 57% step 0390:H0012b12-13 Day +00 13:00 2017-01-01 13:30:00: Rel.:499   : Active:499    M:480    S:10      B:9      D:0      O:0      N:0      Buffer:499      0% step time =  4.2 ms
C000 61% step 0420:H0014b14-15 Day +00 14:00 2017-01-01 14:30:00: Rel.:555   : Active:555    M:530    S:13      B:12     D:0      O:0      N:0      Buffer:555      0% step time =  6.0 ms
C000 65% step 0450:H0015b15-16 Day +00 15:00 2017-01-01 15:30:00: Rel.:575   : Active:575    M:516    S:54      B:5      D:0      O:0      N:0      Buffer:575      0% step time =  5.0 ms
C000 70% step 0480:H0016b16-17 Day +00 16:00 2017-01-01 16:30:00: Rel.:616   : Active:616    M:550    S:58      B:8      D:0      O:0      N:0      Buffer:616      0% step time =  5.7 ms
C000 74% step 0510:H0017b17-18 Day +00 17:00 2017-01-01 17:30:00: Rel.:636   : Active:636    M:568    S:66      B:2      D:0      O:0      N:0      Buffer:636      0% step time =  4.6 ms
C000 78% step 0540:H0018b18-19 Day +00 18:00 2017-01-01 18:30:00: Rel.:678   : Active:678    M:610    S:66      B:2      D:0      O:0      N:0      Buffer:678      0% step time =  4.8 ms
C000 83% step 0570:H0019b19-20 Day +00 19:00 2017-01-01 19:30:00: Rel.:698   : Active:698    M:630    S:66      B:2      D:0      O:0      N:0      Buffer:698      0% step time =  4.3 ms
C000 87% step 0600:H0020b20-21 Day +00 20:00 2017-01-01 20:30:00: Rel.:742   : Active:742    M:678    S:62      B:2      D:0      O:0      N:0      Buffer:742      0% step time =  4.7 ms
C000 91% step 0630:H0021b21-22 Day +00 21:00 2017-01-01 21:30:00: Rel.:762   : Active:762    M:739    S:13      B:10     D:0      O:0      N:0      Buffer:762      0% step time =  3.9 ms
C000 96% step 0660:H0022b22-23 Day +00 22:00 2017-01-01 22:30:00: Rel.:805   : Active:805    M:787    S:10      B:8      D:0      O:0      N:0      Buffer:805      0% step time =  4.9 ms
C000 100% step 0690:H0023b23-00 Day +00 23:00 2017-01-01 23:30:00: Rel.:805   : Active:805    M:793    S:0       B:12     D:0      O:0      N:0      Buffer:805      0% step time =  6.6 ms
C000 &gt;&gt;&gt; Note: Hydro-model is &quot;3D&quot;, in geographic coords = &quot;False&quot;  type &quot;SCHISMreaderNCDF&quot;
C000       hint: Files found in dir and sub-dirs of &quot;../demos/demo_hindcast/schsim3D&quot;
C000 &gt;&gt;&gt; Note: When using a terminal velocity, ensure time step is small enough that vertical displacement is a small fraction of the water depth, ie vertical Courant number &lt; 1
C000 ----------------------------------------------------------------------
C000   - Finished case number   0,  param_test1 started: 2024-12-12 11:38:27.093392, ended: 2024-12-12 11:39:01.423900
C000       Computational time =0:00:34.330508
C000 --- End case 0 -------------------------------------------------------
End --- Summary ----------------------------------------------------------
End     &gt;&gt;&gt; Note: Run summary with case file names in &quot;<a href="#system-message-3"><span class="problematic" id="problematic-3">*</span></a>_runInfo.json&quot;
End     &gt;&gt;&gt; Note: to help with debugging, parameters as given by user  are in &quot;user_given_params.json&quot;
End     &gt;&gt;&gt; Note: Run summary with case file names in &quot;<a href="#system-message-4"><span class="problematic" id="problematic-4">*</span></a>_runInfo.json&quot;
End &gt;&gt;&gt; Warning: Deleted contents of existing output dir
End ----------------------------------------------------------------------
End ----------------------------------------------------------------------
End OceanTracker summary:  elapsed time =0:00:35.434000
End       Cases -   0 errors,   0 warnings,   2 notes, check above
End       Main  -   0 errors,   1 warnings,   2 notes, check above
End   Output in c:Workot_install_testoceantrackertutorials_how_tooutputparam_test1
End ----------------------------------------------------------------------</pre>
<section id="options-when-running-at-command-line">
<h3>Options when running at command line<a class="headerlink" href="#options-when-running-at-command-line" title="Permalink to this headline">¶</a></h3>
<p>These allow</p>
<ul class="simple">
<li><p>redefining the input and output dirs given within parameter file,
which may have been built for a different location</p></li>
<li><p>limiting the run duration or the number of parallel cases during
testing</p></li>
</ul>
<p>the full arguments are below</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python ../oceantracker/run_ot_cmd_line.py -h
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">run_ot_cmd_line</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">input_dir</span> <span class="n">INPUT_DIR</span><span class="p">]</span>
                          <span class="p">[</span><span class="o">--</span><span class="n">root_output_dir</span> <span class="n">ROOT_OUTPUT_DIR</span><span class="p">]</span>
                          <span class="p">[</span><span class="o">--</span><span class="n">processors</span> <span class="n">PROCESSORS</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">duration</span> <span class="n">DURATION</span><span class="p">]</span>
                          <span class="p">[</span><span class="o">--</span><span class="n">cases</span> <span class="n">CASES</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">debug</span><span class="p">]</span>
                          <span class="n">param_file</span>

<span class="n">positional</span> <span class="n">arguments</span><span class="p">:</span>
  <span class="n">param_file</span>            <span class="n">json</span> <span class="ow">or</span> <span class="n">yaml</span> <span class="n">file</span> <span class="n">of</span> <span class="nb">input</span> <span class="n">parameters</span>

<span class="n">options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
  <span class="o">--</span><span class="n">input_dir</span> <span class="n">INPUT_DIR</span>
                        <span class="n">overrides</span> <span class="nb">dir</span> <span class="k">for</span> <span class="n">hindcast</span> <span class="n">files</span> <span class="n">given</span> <span class="ow">in</span> <span class="n">param</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">root_output_dir</span> <span class="n">ROOT_OUTPUT_DIR</span>
                        <span class="n">overrides</span> <span class="n">root</span> <span class="n">output</span> <span class="nb">dir</span> <span class="n">given</span> <span class="ow">in</span> <span class="n">param</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">processors</span> <span class="n">PROCESSORS</span>
                        <span class="n">overrides</span> <span class="n">number</span> <span class="n">of</span> <span class="n">processors</span> <span class="ow">in</span> <span class="n">param</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">duration</span> <span class="n">DURATION</span>   <span class="ow">in</span> <span class="n">seconds</span><span class="p">,</span> <span class="n">overrides</span> <span class="n">model</span> <span class="n">duration</span> <span class="ow">in</span> <span class="n">seconds</span> <span class="n">of</span> <span class="nb">all</span>
                        <span class="n">of</span> <span class="n">cases</span><span class="p">,</span> <span class="n">useful</span> <span class="ow">in</span> <span class="n">testing</span>
  <span class="o">--</span><span class="n">cases</span> <span class="n">CASES</span>         <span class="n">only</span> <span class="n">runs</span> <span class="n">first</span> <span class="s2">&quot;cases&quot;</span> <span class="n">of</span> <span class="n">the</span> <span class="n">case_list</span><span class="p">,</span> <span class="n">useful</span> <span class="ow">in</span>
                        <span class="n">testing</span>
  <span class="o">-</span><span class="n">debug</span>                <span class="n">gives</span> <span class="n">better</span> <span class="n">error</span> <span class="n">information</span><span class="p">,</span> <span class="n">but</span> <span class="n">runs</span> <span class="n">slower</span><span class="p">,</span> <span class="n">eg</span>
                        <span class="n">checks</span> <span class="n">Numba</span> <span class="n">array</span> <span class="n">bounds</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="B_runningOT_and_parameters.html" title="Previous document">Running with helper class</a>
        </li>
        <li>
          <a href="../how_to.html" title="Next document">Tutorials</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2024, R. Vennell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/info/how_to/E_run_using_parameter_dictionaries.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>